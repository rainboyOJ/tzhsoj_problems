## 描述

任意阶幻方构造方法: 　　幻方，亦称纵横图。台湾称为魔术方阵。将自然数1，2，3，……n*n排列成一个n*n方阵，使得每行、每列以及两对角线上的各个数之和都相等，等于n/2*(n*n+1)，这样的方阵称为幻方。 　　例如：把1，2，3，4，5，6，7，8，9填入3*3的格子，使得：每行、每列、两条对角线的和是15。 <img border=0 src=http://127.0.0.1:80/JudgeOnline/images/P1571_1.jpg> 　　n是它的阶数，比如上面的幻方是3阶。n/2*(n*n+1)为幻方的变幻常数。数学上已经证明，对于n>2，n阶幻方都存在。 　　目前填写幻方的方法，是把幻方分成了三类，每类又有各种各样的填写方法。这里对于这三类幻方，仅举出一种方便手工填写的方法。 1、奇数阶幻方 　　n为奇数 (n=3，5，7，9，11……) (n=2*k+1，k=1，2，3，4，5……) 　　奇数阶幻方最经典的填法是罗伯特法(也有人称之为楼梯法)。填写方法是这样： 　　把1(或最小的数)放在第一行正中； 按以下规律排列剩下的n*n-1个数： 　　(1)、每一个数放在前一个数的右上一格； 　　(2)、如果这个数所要放的格已经超出了顶行那么就把它放在底行，仍然要放在右一列； 　　(3)、如果这个数所要放的格已经超出了最右列那么就把它放在最左列，仍然要放在上一行； 　　(4)、如果这个数所要放的格已经超出了顶行且超出了最右列，那么就把它放在前一个数的下一行同一列的格内； 　　(5)、如果这个数所要放的格已经有数填入，处理方法同(4)。 　　这种写法总是先向“右上”的方向，象是在爬楼梯。 2、双偶阶幻方 　　n为偶数，且能被4整除 (n=4，8，12，16，20……) (n=4k，k=1，2，3，4，5……) 　　先说明一个定义： 　　互补：如果两个数字的和，等于幻方最大数和最小数的和，即 n*n+1，称为互补。 　　先看看4阶幻方的填法：将数字从左到右、从上到下按顺序填写： <img border=0 src=http://127.0.0.1:80/JudgeOnline/images/P1571_2.jpg> 　　这个方阵的对角线，已经用蓝色标出。将对角线上的数字，换成与它互补的数字。 　　这里，n*n+1 = 4*4+1 = 17； 　　把1换成17-1 = 16；把6换成17-6 = 11；把11换成17-11 = 6……换完后就是一个四阶幻方。 　　对于n=4k阶幻方，我们先把数字按顺序填写。写好后，按4*4把它划分成k*k个方阵。因为n是4的倍数，一定能用4*4的小方阵分割。然后把每个小方阵的对角线，象制作4阶幻方的方法一样，对角线上的数字换成互补的数字，就构成幻方。 　　下面是8阶幻方的作法： 　　(1) 先把数字按顺序填。然后，按4*4把它分割成2*2个小方阵 <img border=0 src=http://127.0.0.1:80/JudgeOnline/images/P1571_3.jpg> 　　(2) 每个小方阵对角线上的数字，换成和它互补的数。 <img border=0 src=http://127.0.0.1:80/JudgeOnline/images/P1571_4.jpg> 3、单偶阶幻方 　　n为偶数，且不能被4整除 (n=6，10，14，18，22……) (n=4k+2，k=1，2，3，4，5……) 　　这是三种里面最复杂的幻方。 　　以n=10为例。这时，k=2 　　(1) 把方阵分为A，B，C，D四个象限，这样每一个象限肯定是奇数阶。用楼梯法，依次在A象限，D象限，B象限，C象限按奇数阶幻方的填法填数。 <img border=0 src=http://127.0.0.1:80/JudgeOnline/images/P1571_5.jpg> <img border=0 src=http://127.0.0.1:80/JudgeOnline/images/P1571_6.jpg> 　　(2) 在A象限的中间行、中间格开始，按自左向右的方向，标出k格。A象限的其它行则标出最左边的k格。 <img border=0 src=http://127.0.0.1:80/JudgeOnline/images/P1571_7.jpg> 　　(3) 将这些格，和C象限相对位置上的数，互换位置。 <img border=0 src=http://127.0.0.1:80/JudgeOnline/images/P1571_8.jpg> 　　(4) 在B象限任一行的中间格，自右向左，标出k-1列。(注：6阶幻方由于k-1=0，所以不用再作B、D象限的数据交换) <img border=0 src=http://127.0.0.1:80/JudgeOnline/images/P1571_9.jpg> 　　(5) 将B象限标出的这些数，和D象限相对位置上的数进行交换，就形成幻方。 <img border=0 src=http://127.0.0.1:80/JudgeOnline/images/P1571_10.jpg> 

## 输入格式

读入一行，幻方的阶：n

## 输出格式

输出幻方： 共n行，每行n个数，数据之间用空隔隔开。

## 输入样例

```plaintext
5
```

## 输出样例

```plaintext
17 24 1 8 15 23 5 7 14 16 4 6 13 20 22 10 12 19 21 3 11 18 25 2 9 
```



 



 

